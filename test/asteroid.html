<link rel="stylesheet" href="../style.css">

<style>
  .rock {
    fill: brown;
    stroke: black;
    vector-effect: non-scaling-stroke;
  }
</style>

<body>
  <svg id='svg' width="100%" height="100%" style='background-color: #111'>
  </svg>
</body>

<script>
  const svg = document.getElementById( 'svg' );

  const rock = getPathFromPoints( getPoints( 10 ) );
  rock.setAttribute( 'class', 'rock' );
  rock.setAttribute( 'transform', 'translate( 100, 100 ) scale( 50 )' );
  svg.appendChild( rock );

  function getPoints( numPoints ) {
    const spacing = Math.PI * 2 / numPoints;
    const angles = Array.from( Array( numPoints ), ( _, ndx ) => 
      spacing * ( ndx + randMid() * 0.5 ) 
    );
    return angles.map( angle => 
      [ Math.cos( angle ), Math.sin( angle ) ].map( e => 
        e + randMid() * 0.2 
      )
    );
  }

  function getPathFromPoints( points ) {
    const part = document.createElementNS( 'http://www.w3.org/2000/svg', 'path' );
    part.setAttribute( 'd', `M ${ points.join( ' L ' ) } Z` );
    return part;
  }

  function randMid() { return Math.random() - 0.5; }

</script>