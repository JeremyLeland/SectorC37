<link rel="stylesheet" href="../style.css">

<body>
  <div id="debug" style="position: absolute; z-index: 2; width: 550px"></div>
</body>

<script type="module">

  import { Game } from '../src/Game.js';
  import { Ship } from '../src/Ship.js';
  import { Rock } from '../src/Rock.js';
  import { World } from '../src/world.js';
  import { Info } from '../info/info.js';
  import * as Util from '../src/Util.js';
  
  const world = new World();
  world.size = 300;

  for ( let i = 0; i < 3; i ++ ) {
    const rock = new Rock( Info.Rock );
    rock.x = i * 90 - 90;
    rock.y = i * 180 - 180;
    world.entities.push( rock );
  }

  for ( let i = 0; i < 3; i ++ ) {
    const ship = new Ship( Info.Scout );
    ship.x = 200;
    ship.y = i * 180 - 90;
    ship.angle = Math.PI;
    ship.goalX = -300;
    ship.goalY = 0;
    world.entities.push( ship );
  }

  const game = new Game();
  game.scrollX = 500;
  game.scrollY = 500;
  game.update = ( dt ) => {
    if ( game.keysPressed.size > 0 ) {
      world.update( dt );
    }
  };

  game.draw = ( ctx ) => {
    world.draw( ctx );    
  };

</script>

